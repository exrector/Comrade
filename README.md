# "COMRADE" - AI DockKit Companion (Open Source)

This is a non-commercial, AI-powered DockKit iOS robot interface.

## License
This project is licensed under CC BY-NC 4.0. See LICENSE for details.

## Contributions
Contributions welcome! Make sure to read CONTRIBUTING.md and sign the CLA.

---
**NO COMMERCIAL USE ALLOWED**

Многоуровневый ассистент с голосовым вводом, генерацией ответов и мультимодальными анимациями.

## Основные компоненты
- Swift (UI, Vision, Audio, Siri)
- Python (LLM, FastWhisper, FastSpeech2)
- Интеграция через PythonKit или REST

# 🤖 COMRADE: Архитектура голосового ассистента на DockKit

> "Не просто ассистент. Это взгляд."  
> — COMRADE System Manifest

---

## 📐 Общая архитектура

COMRADE — это локальный голосовой ассистент, встроенный в визуальный интерфейс через DockKit. Он анализирует лицо пользователя, реагирует на голосовые команды, формирует ответы с помощью локальных LLM и визуализирует эмоции через анимации и мимику.

---

## 🧠 Главные компоненты

### 1. 🎙️ **Ввод речи**
- `Voice Commands` (через Accessibility)
- `SFSpeechRecognizer` — локальное распознавание команд
- Триггер: `WakeUp ROBOT`

### 2. 🪞 **Обработка лица и взаимодействие**
- `VisionKit`, `AVFoundation`, `FaceID` — трекинг лица
- `DockKit` — поворот и визуальный отклик на лицо
- `SwiftUI + WidgetKit` — интерфейс на фоне, локскрине, в StandBy

### 3. 🗃 **Центральная логика**
- `Главная ПРОГРАММА обработки`:
  - Менеджер диалога
  - Интерпретатор команд
  - Диспетчер плагинов, эмоций и текста
  - Обработчик контекста

---

## 💬 AI-интеллект

### 4. 🧠 **Генерация ответа**
- **MLC LLM / CoreML**:
  - `Whisper / FastWhisper` — голос → текст
  - LLM — формулировка ответа
  - `FastSpeech2` — текст → аудио

- **Проверка качества**:
  - `Яндекс.Спеллер` — орфография и пунктуация

---

### 5. 🌐 **Онлайн-обогащение**
- `Perplexity AI`, `Phind` — API для запросов в интернет
- Модули:
  - Быстрые ответы
  - Глубокие LLM-запросы
  - Журнализация пользовательских интересов

---

## 🧩 Плагины и анимации

- **Блок плагинов анимаций**:
  - Грусть → медленные движения
  - Радость → широкие взгляды, быстрые движения
  - Злость → сужение глаз, резкие повороты
- **AVAudioPlayer + визуализация**:
  - Эмоции + реакции
  - Простая мимика (через AVAudioUnitDistortion и др.)

---

## 🧪 Зеркало/Dev-режим

- `компаньон / терминал / зеркало`:
  - WebRTC, логирование, тестирование
  - Прямой чат с ядром на Mac

---

## 🛡 Безопасность

- (Рекомендуется) Fallback-механизм при отказе LLM/API
- (Планируется) Песочница для сторонних плагинов поведения
- (Планируется) Конфиденциальный режим с отключением камеры/микрофона

---

## 💾 TODO и будущее

- [ ] Интеграция WebAssembly-плагинов для быстрой доставки новых эмоций
- [ ] Модуль "обучение на месте" — подстройка под конкретного пользователя
- [ ] Автоматическая запись пользовательского фидбека

---

> 💡 *COMRADE не отвечает. COMRADE смотрит.*  
> — Internal Build, v0.6